{
  "version": "1.0.0",
  "description": "Integration between claude-flow and .spec-workflow",
  "specWorkflowPath": ".spec-workflow",
  "integration": {
    "discovery": {
      "specsDirectory": ".spec-workflow/specs",
      "steeringDirectory": ".spec-workflow/steering",
      "autoDiscovery": true,
      "watchForChanges": true
    },
    "specFormat": {
      "requirementsFile": "requirements.md",
      "designFile": "design.md",
      "tasksFile": "tasks.md",
      "implementationLogFile": "implementation-log.json"
    },
    "taskParsing": {
      "markdownFormat": true,
      "taskStates": {
        "pending": "[ ]",
        "inProgress": "[-]",
        "completed": "[x]"
      },
      "extractMetadata": [
        "files",
        "leverage",
        "requirements",
        "prompt"
      ]
    },
    "agents": {
      "specPlanner": {
        "agent": "spec-planner",
        "responsibilities": [
          "Parse requirements.md",
          "Review design.md",
          "Extract tasks from tasks.md",
          "Create execution plan"
        ]
      },
      "specImplementer": {
        "agent": "spec-implementer",
        "responsibilities": [
          "Execute tasks sequentially",
          "Mark tasks as in-progress",
          "Implement changes",
          "Log implementation artifacts",
          "Mark tasks as completed"
        ]
      },
      "specReviewer": {
        "agent": "spec-reviewer",
        "responsibilities": [
          "Verify all artifacts logged",
          "Check test coverage",
          "Request approvals",
          "Validate completion"
        ]
      }
    },
    "implementationLogging": {
      "tool": "mcp__spec-workflow__log-implementation",
      "requiredFields": [
        "specName",
        "taskId",
        "summary",
        "filesModified",
        "filesCreated",
        "statistics",
        "artifacts"
      ],
      "artifacts": {
        "apiEndpoints": {
          "required": ["method", "path", "purpose", "location"],
          "optional": ["requestFormat", "responseFormat"]
        },
        "components": {
          "required": ["name", "type", "purpose", "location"],
          "optional": ["props", "exports"]
        },
        "functions": {
          "required": ["name", "purpose", "location", "signature"],
          "optional": ["isExported"]
        },
        "classes": {
          "required": ["name", "purpose", "location", "methods"],
          "optional": ["isExported"]
        },
        "integrations": {
          "required": ["description", "frontendComponent", "backendEndpoint", "dataFlow"]
        }
      }
    },
    "approvals": {
      "tool": "mcp__spec-workflow__approvals",
      "categories": {
        "spec": "For specification documents (requirements, design, tasks)",
        "steering": "For steering documents (product, tech, structure)"
      },
      "types": {
        "document": "For content approval",
        "action": "For action approval"
      },
      "workflow": [
        "Request approval after document creation",
        "Wait for user approval via dashboard",
        "Check status periodically",
        "Delete approval request after completion"
      ]
    }
  },
  "activeSpecs": [
    {
      "name": "uat-ui-fixes",
      "status": "in-progress",
      "priority": "high",
      "description": "Dashboard virtual/physical indicator, device enable/disable toggle, profile inline edit + active indicator, config RPC fix, 256-layer display, key dropdown population",
      "totalTasks": 14,
      "completedTasks": 13,
      "remainingTasks": 1
    }
  ],
  "specWorkflowCommands": {
    "listSpecs": "ls -la .spec-workflow/specs",
    "getSpecStatus": "npx mcp-client mcp__spec-workflow__spec-status --specName <name>",
    "logImplementation": "npx mcp-client mcp__spec-workflow__log-implementation --specName <name> --taskId <id> --summary \"...\" --artifacts {...}",
    "requestApproval": "npx mcp-client mcp__spec-workflow__approvals --action request --category spec --categoryName <name> --type document --title \"...\" --filePath \"...\"",
    "checkApprovalStatus": "npx mcp-client mcp__spec-workflow__approvals --action status --approvalId <id>",
    "deleteApproval": "npx mcp-client mcp__spec-workflow__approvals --action delete --approvalId <id>"
  },
  "automationRules": [
    {
      "trigger": "new spec created",
      "action": "spawn spec-planner agent",
      "workflow": "spec-implementation"
    },
    {
      "trigger": "task marked in-progress",
      "action": "spawn spec-implementer agent",
      "workflow": "task execution"
    },
    {
      "trigger": "all tasks completed",
      "action": "spawn spec-reviewer agent",
      "workflow": "review and approval"
    },
    {
      "trigger": "approval granted",
      "action": "mark spec as completed",
      "workflow": "cleanup"
    }
  ],
  "memoryPatterns": {
    "storeSuccessfulImplementations": true,
    "learnFromFailures": true,
    "cacheCommonPatterns": [
      "API endpoint creation",
      "React component patterns",
      "Rust module structure",
      "Test writing patterns"
    ],
    "vectorSearchEnabled": true,
    "similarityThreshold": 0.7
  }
}
