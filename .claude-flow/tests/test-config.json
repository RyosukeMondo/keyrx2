{
  "version": "1.0.0",
  "description": "Test configurations for claude-flow in keyrx",
  "testSuites": {
    "agentSpawning": {
      "description": "Test agent spawning and lifecycle",
      "tests": [
        {
          "name": "spawn-rust-core-dev",
          "command": "npx claude-flow@v3alpha agent spawn -t rust-core-dev --name test-core",
          "expectedOutput": "Agent spawned successfully",
          "timeout": 30000
        },
        {
          "name": "spawn-ui-react-dev",
          "command": "npx claude-flow@v3alpha agent spawn -t ui-react-dev --name test-ui",
          "expectedOutput": "Agent spawned successfully",
          "timeout": 30000
        }
      ]
    },
    "workflows": {
      "description": "Test workflow execution",
      "tests": [
        {
          "name": "quality-verification",
          "command": "npx claude-flow@v3alpha flow run quality-verification",
          "stages": ["rust-quality", "typescript-quality", "tests", "coverage"],
          "timeout": 300000
        },
        {
          "name": "wasm-build-verify",
          "command": "npx claude-flow@v3alpha flow run wasm-build-verify",
          "stages": ["build", "verification"],
          "timeout": 120000
        }
      ]
    },
    "memory": {
      "description": "Test memory system",
      "tests": [
        {
          "name": "memory-init",
          "command": "npx claude-flow@v3alpha memory init",
          "expectedOutput": "Memory database initialized",
          "timeout": 60000
        },
        {
          "name": "pattern-search",
          "command": "npx claude-flow@v3alpha memory search -q 'API endpoint' --top-k 5",
          "expectedOutput": "api-endpoint-creation",
          "timeout": 10000
        },
        {
          "name": "pattern-load",
          "command": "npx claude-flow@v3alpha memory load .claude-flow/memory/keyrx-patterns.json",
          "expectedOutput": "10 patterns loaded",
          "timeout": 30000
        }
      ]
    },
    "swarm": {
      "description": "Test swarm coordination",
      "tests": [
        {
          "name": "swarm-init",
          "command": "npx claude-flow@v3alpha swarm init --v3-mode",
          "expectedOutput": "Swarm initialized",
          "timeout": 60000
        },
        {
          "name": "swarm-status",
          "command": "npx claude-flow@v3alpha status",
          "expectedOutput": "topology: hierarchical-mesh",
          "timeout": 10000
        }
      ]
    },
    "specWorkflow": {
      "description": "Test .spec-workflow integration",
      "tests": [
        {
          "name": "spec-status",
          "command": "npx mcp-client mcp__spec-workflow__spec-status --specName uat-ui-fixes",
          "expectedOutput": "uat-ui-fixes",
          "timeout": 10000
        }
      ]
    }
  },
  "integrationTests": [
    {
      "name": "full-spec-implementation",
      "description": "Run full spec implementation workflow",
      "steps": [
        "Initialize memory",
        "Load patterns",
        "Run spec-implementation workflow",
        "Verify artifacts logged",
        "Check quality gates",
        "Request approval"
      ],
      "command": "npx claude-flow@v3alpha flow run spec-implementation --spec uat-ui-fixes",
      "timeout": 600000
    }
  ],
  "healthChecks": [
    {
      "name": "doctor",
      "command": "npx claude-flow@v3alpha doctor",
      "expectedChecks": [
        "Claude Code installed",
        "Node.js version",
        "Dependencies installed",
        "Configuration valid"
      ]
    }
  ]
}
